{
  "version": 3,
  "sources": ["../../vuetify/src/composables/resizeObserver.ts"],
  "sourcesContent": ["// Utilities\nimport { onBeforeUnmount, readonly, ref, watch } from 'vue'\nimport type { DeepReadonly, Ref } from 'vue'\n\n// Globals\nimport { IN_BROWSER } from '@/util/globals'\n\ninterface ResizeState {\n  resizeRef: Ref<Element | undefined>\n  contentRect: DeepReadonly<Ref<DOMRectReadOnly | undefined>>\n  borderBoxSize: DeepReadonly<Ref<ResizeObserverSize | undefined>>\n  contentBoxSize: DeepReadonly<Ref<ResizeObserverSize | undefined>>\n}\n\nexport function useResizeObserver (callback?: ResizeObserverCallback): ResizeState {\n  const resizeRef = ref<Element>()\n  const contentRect = ref<DOMRectReadOnly>()\n  const contentBoxSize = ref<ResizeObserverSize>()\n  const borderBoxSize = ref<ResizeObserverSize>()\n\n  if (IN_BROWSER) {\n    const observer = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n      callback?.(entries, observer)\n\n      if (!entries.length) return\n\n      contentRect.value = entries[0].contentRect\n      contentBoxSize.value = entries[0].contentBoxSize[0]\n      borderBoxSize.value = entries[0].borderBoxSize[0]\n    })\n\n    onBeforeUnmount(() => {\n      observer.disconnect()\n    })\n\n    watch(resizeRef, (newValue, oldValue) => {\n      if (oldValue) {\n        observer.unobserve(oldValue)\n        contentRect.value = undefined\n        contentBoxSize.value = undefined\n        borderBoxSize.value = undefined\n      }\n\n      if (newValue) observer.observe(newValue)\n    }, {\n      flush: 'post',\n    })\n  }\n\n  return {\n    resizeRef,\n    contentRect: readonly(contentRect),\n    contentBoxSize: readonly(contentBoxSize),\n    borderBoxSize: readonly(borderBoxSize),\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;AAcO,2BAA4B,UAAgD;AACjF,QAAM,YAAY,IAAG;AACrB,QAAM,cAAc,IAAG;AACvB,QAAM,iBAAiB,IAAG;AAC1B,QAAM,gBAAgB,IAAG;AAEzB,MAAI,YAAY;AACd,UAAM,WAAW,IAAI,eAAgB,aAAmC;AACtE,kBAAQ,OAAR,SAAA,SAAW,SAAS,QAAZ;AAER,UAAI,CAAC,QAAQ;AAAQ;AAErB,kBAAY,QAAQ,QAAQ,GAAG;AAC/B,qBAAe,QAAQ,QAAQ,GAAG,eAAe;AACjD,oBAAc,QAAQ,QAAQ,GAAG,cAAc;IAChD,CARgB;AAUjB,oBAAgB,MAAM;AACpB,eAAS,WAAT;IACD,CAFc;AAIf,UAAM,WAAW,CAAC,UAAU,aAAa;AACvC,UAAI,UAAU;AACZ,iBAAS,UAAU,QAAnB;AACA,oBAAY,QAAQ;AACpB,uBAAe,QAAQ;AACvB,sBAAc,QAAQ;MACvB;AAED,UAAI;AAAU,iBAAS,QAAQ,QAAjB;IACf,GAAE;MACD,OAAO;IADN,CATE;EAYN;AAED,SAAO;IACL;IACA,aAAa,SAAS,WAAD;IACrB,gBAAgB,SAAS,cAAD;IACxB,eAAe,SAAS,aAAD;EAJlB;AAMR;",
  "names": []
}
